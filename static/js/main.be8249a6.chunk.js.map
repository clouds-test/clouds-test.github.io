{"version":3,"sources":["App.js","components/Auth.js","components/Api.js","components/DiskHeader.js","components/UploadFile.js","components/NewFolder.js","components/SortBy.js","components/Folder.js","components/File.js","components/List.js","index.js"],"names":["App","Cookies","get","document","location","href","concat","react_default","a","createElement","className","Component","Auth","token","exec","hash","cookie","apishka","type","data","params","mname","cb","err","headers","arguments","length","undefined","head","Authorization","axios","method","url","then","response","error","PreLoader","this","props","on","alt","onClick","goBack","style","cursor","marginLeft","zIndex","position","opacity","width","height","src","DiskHeader","total_space","Number","toFixed","used_space","UploadFile","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","uploadFile","bind","assertThisInitialized","state","file","_this2","filedata","FormData","path","name","getList","console","log","_this3","onChange","e","setState","target","files","NewFolder","newFolder","foldertitle","backgroundColor","value","placeholder","SortBy","sortBy","sortby","Folder","delFolder","item","margin","File","dateToString","dt","newdate","Date","getDate","getMonth","getFullYear","toString","getHours","getMinutes","size","created","modified","color","fontSize","List","limit","decodeURI","pathname","replace","total","loading","sort","_embedded","items","_this4","window","confirm","_this5","_this6","_this7","Api_PreLoader","components_DiskHeader","components_SortBy","components_NewFolder","components_UploadFile","map","key","resource_id","components_Folder","components_File","showMore","supportsHistory","history","ReactDOM","render","BrowserRouter","forceRefresh","Route","component","getElementById"],"mappings":"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","file":"static/js/main.be8249a6.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Cookies from 'js-cookie';\n\nconst clientId = '829e0a5d8d074e74ab1584176c6c3a13';\nconst redirectUri = `https://clouds-test.github.io/auth`;\n\nclass App extends Component {\n\n\tcomponentDidMount() {\n\t\tlet token = Cookies.get( 'token' );\n\n\t\tif (token == null) {\n\n\t\t\tdocument.location.href = `https://oauth.yandex.ru/authorize?${\n\t\t\t\t'response_type=token'\n\t\t\t}&${\n\t\t\t\t'client_id=' + clientId\n\t\t\t}&${\n\t\t\t\t'redirect_uri=' + redirectUri\n\t\t\t}`;\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t  <div className=\"App\">\n\t\t\t<a href = {\"/list/\"} >мои файлы</a>\n\t\t  </div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React, { Component } from 'react';\n\nclass Auth extends Component {\n\n\tcomponentWillMount() {\n\t\tlet token = /access_token=([^&]+)/.exec(document.location.hash)[1]\n\t\t//console.log('token1:',token)\n\t\tdocument.cookie = 'token=' + token\n\t\tdocument.location.href = '/list/'\n\t}\n\n  render() {\n    return <div />;\n  }\n}\n\nexport default Auth;\n","import axios from 'axios';\nimport React, { Component } from 'react';\nimport Cookies from 'js-cookie';\n\nexport function apishka(type, data, params, mname, cb, err, headers = true) {\n\t/*\n\t\tAjax запросы\n\t\ttype - параметры\n\t\tdata - тело запроса\n\t\tparams - параметры get\n\t\tmname - путь метода\n\t\tcb - колбэк при успешном выполнении\n\t\terr - функция при ошибке\n\t*/\n\n\tlet head = { Authorization: 'OAuth ' + Cookies.get('token') }\n\tif (!headers) {\n\t\thead = {}\n\t}\n\taxios({\n\t\tmethod: type,\n\t\turl: mname,\n\t\tdata: data,\n\t\tparams: params,\n\t\theaders: head\n\t})\n\t.then(function(response) {\n\t\tcb(response.data)\n\t}, (error) => {\n\t\tconst {response: status} = error;\n\t\tif (status === 401) {\n\t\t\tdocument.location.href = '/auth'\n\t\t}\n\t\terr( error )\n\t});\n\n}\n\nexport default class PreLoader extends Component {\n\n\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{(this.props.on)?\n\t\t\t\t(<div>\n\t\t\t\t\t<img\n\t\t\t\t\t\talt = \"back\"\n\t\t\t\t\t\tonClick = {this.goBack}\n\t\t\t\t\t\tstyle = {{cursor:\"pointer\", marginLeft:5, zIndex: 1003, position:\"fixed\", opacity:0.8}}\n\t\t\t\t\t\twidth = \"100%\" height = \"100%\"\n\t\t\t\t\t\tsrc = \"/pic/preloader.gif\"\t/>\n\n\t\t\t\t</div>)\n\t\t\t\t:\n\t\t\t\tnull\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n","import React, { Component } from 'react';\n\nclass DiskHeader extends Component {\n\t\n\trender() {\n\t\tlet total_space = Number(this.props.total_space/1073741824).toFixed(2);\n\t\tlet used_space = Number(this.props.used_space/1073741824).toFixed(2);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h3>Всего места: \n\t\t\t\t\t<span className=\"badge badge-secondary\">{total_space} ГБ.</span>\n\t\t\t\t</h3>\n\t\t\t\t<h3>Использовано: \n\t\t\t\t\t<span className=\"badge badge-secondary\">{used_space} ГБ.</span>\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DiskHeader;\n","import React, { Component } from 'react';\nimport '../bootstrap/css/bootstrap.css';\nimport {apishka} from './Api';\n\nclass UploadFile extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.uploadFile = this.uploadFile.bind(this);\n\n\t\tthis.state = {\n\t\t\tfile:null\n\t\t}\n\t}\n\n\tuploadFile(){\n\t\t/*\n\t\t\tметод загрузки файла\n\t\t\tна вход требуется:\n\t\t\t\tpath (this.state.path) - путь папки в которой необходимо загрузить\n\n\t\t*/\n\n\t\tlet filedata = new FormData(this.state.file);\n\n\t\tapishka('GET',null,{ path: (('/' + this.props.path) || '/') + this.state.file.name },\n\t\t\t`https://cloud-api.yandex.net/v1/disk/resources/upload`,\n\t\t\t(data) => {\n\t\t\t\tapishka('PUT', filedata, null, data.href, (data) => {\n\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t},(err) => {\n\t\t\t\t\t\tconsole.log('err: ', err);\n\t\t\t\t\t}, false\n\t\t\t\t)\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tconsole.log('err: ', err);\n\t\t\t}\n\t\t)\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className = \"col-sm card\">\n\t\t\t\t<label>Загрузить файл:  </label>\n\t\t\t\t<input type = 'file'\n\t\t\t  \t   onChange={(e) => this.setState({ file: e.target.files[0] }) } />\n\t\t\t\t<button\n\t\t\t\t\tclassName = \"btn btn-outline-success\"\n\t\t\t\t\tonClick = {this.uploadFile} >Загрузить</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default UploadFile;\n","import React, { Component } from 'react';\nimport '../bootstrap/css/bootstrap.css';\nimport {apishka} from './Api';\n\nclass NewFolder extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.newFolder = this.newFolder.bind(this);\n\n\t\tthis.state = {\n\t\t\tfoldertitle:''\n\t\t}\n\t}\n\n\tnewFolder() {\n\t\t/*\n\t\t\tметод создания новой папки\n\t\t\tна вход требуется:\n\t\t\t\tpath (this.state.path) - путь папки в которой находимся + название новой папки (this.state.foldertitle)\n\t\t\tпосле выполнения запрашивает список\n\t\t*/\n\t\tapishka('PUT',null,{ path:(('/' + this.props.path) || '/') + this.state.foldertitle },\n\t\t\t`https://cloud-api.yandex.net/v1/disk/resources`,\n\t\t\t(data) => {\n\t\t\t\tthis.setState({ foldertitle: \"\" } , () => {\n\t\t\t\t\tthis.props.getList();\n\t\t\t\t})\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tconsole.log('err: ', err);\n\t\t\t}\n\t\t)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className = \"col-sm card\">\n\t\t\t\t<label>Создать новую папку:  </label>\n\t\t\t\t<label style = {{backgroundColor:\"#d4cfcf\"}}> {this.props.path || '/'} </label>\n\t\t\t\t<input type = 'text'\n\t\t\t\t   value = {this.state.foldertitle}\n\t\t\t\t   placeholder = 'введите название папки'\n\t\t\t\t   onChange={(e) => this.setState({foldertitle: e.target.value})} />\n\t\t\t\t<button className = \"btn btn-outline-success\"\n\t\t\t\t\tonClick = {this.newFolder}>Создать папку</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default NewFolder;\n","import React, { Component } from 'react';\nimport '../bootstrap/css/bootstrap.css';\n\nclass SortBy extends Component {\t\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className = \"col-sm card\">\n\t\t\t\t<label >отсортировать: </label> \n\t\t\t\t<select \n\t\t\t\t\tclassName=\"form-control-sm\"\n\t\t\t\t\tonChange = {this.props.sortBy}\n\t\t\t\t\tvalue = {this.props.sortby}\n\t\t\t\t>\n\t\t\t\t\t<option value = \"created\">дата создание</option>\n\t\t\t\t\t<option value = \"name\">название</option>\n\t\t\t\t\t<option value = \"path\">путь</option>\n\t\t\t\t\t<option value = \"modified\">дата последнего редактирования</option>\n\t\t\t\t\t<option value = \"size\">размер</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SortBy;\n","import React, { Component } from 'react';\nimport '../bootstrap/css/bootstrap.css';\n\nclass Folder extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.delFolder = this.props.delFolder.bind(this);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"row list-group-flush\">\n\t\t\t\t<div className = \"col-sm-11 list-group-item\">\n\t\t\t\t\t<a href =  {'/list/' + this.props.path +  this.props.item.name + '/'}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt = \"folder\"\n\t\t\t\t\t\t\tsrc=\"/pic/folder.png\"\n\t\t\t\t\t\t\twidth = \"30\"\n\t\t\t\t\t\t\theight = \"30\" />\n\t\t\t\t\t\t<label style = {{margin:5, cursor:\"pointer\"}}>{this.props.item.name}</label>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className = \"col-sm\">\n\t\t\t\t\t<img\n\t\t\t\t\t\talt = \"delete\"\n\t\t\t\t\t\tstyle = {{cursor:\"pointer\", marginLeft:5}}\n\t\t\t\t\t\twidth = \"20\" height = \"20\"\n\t\t\t\t\t\tsrc=\"/pic/recbin.png\"\n\t\t\t\t\t\tonClick = {() => this.delFolder(this.props.item.path)}  />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Folder;\n","import React, { Component } from 'react';\nimport '../bootstrap/css/bootstrap.css';\n\nclass File extends Component {\t\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.dateToString = this.dateToString.bind(this);\n\t}\n\t\n\tdateToString(dt) {\n\t\t/*\n\t\t\tметод выводит дату в формате ДД.М.ГГГГ ЧЧ:МИ\n\t\t*/\n\t\tlet newdate = new Date(dt);\n\t\t\n\t\treturn  newdate.getDate() + '.' + (newdate.getMonth() + 1) + '.' + \n\t\t\t\tnewdate.getFullYear().toString() + ' ' + newdate.getHours() + ':' + newdate.getMinutes();\t\t\n\t}\n\t\n\trender() {\n\t\tlet size = Number(this.props.item.size/1024).toFixed(2);\n\t\tlet created = this.dateToString(this.props.item.created);\n\t\tlet modified = this.dateToString(this.props.item.modified);\n\t\t\n\t\treturn (\n\t\t\t<div className=\"row list-group-flush\">\n\t\t\t\t<div className = \"col-sm-11\">\n\t\t\t\t\t<img \n\t\t\t\t\t\talt = \"document\" \n\t\t\t\t\t\tsrc=\"/pic/doc.png\" \n\t\t\t\t\t\twidth = \"30\" \n\t\t\t\t\t\theight = \"30\" />\n\t\t\t\t\t<label style = {{margin:5}}>{this.props.item.name}</label>\n\t\t\t\t\t<br />\n\t\t\t\t\t<label style = {{margin:5, color:\"grey\", fontSize:10}}>{size} Kb</label>\n\t\t\t\t\t<label style = {{margin:5, color:\"grey\", fontSize:10}}>created: {created}</label>\n\t\t\t\t\t<label style = {{margin:5, color:\"grey\", fontSize:10}}>modified: {modified}</label>\n\t\t\t\t</div>\t\n\t\t\t\t<div className = \"col-sm\">\n\t\t\t\t\t<a \n\t\t\t\t\t\tstyle = {{margin:5}} \n\t\t\t\t\t\thref = {this.props.item.file}>\n\t\t\t\t\t\t<img \n\t\t\t\t\t\t\talt = \"download\" \n\t\t\t\t\t\t\twidth = \"30\" \n\t\t\t\t\t\t\theight = \"30\" \n\t\t\t\t\t\t\tsrc=\"/pic/download.png\" />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default File;\n","import React, { Component } from 'react';\nimport PreLoader, { apishka } from './Api';\nimport '../bootstrap/css/bootstrap.css';\nimport DiskHeader from './DiskHeader';\nimport UploadFile from './UploadFile';\nimport NewFolder from './NewFolder';\nimport SortBy from './SortBy';\nimport Folder from './Folder';\nimport File from './File';\n\nclass List extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.getList = this.getList.bind(this);\n\t\tthis.sortBy = this.sortBy.bind(this);\n\t\tthis.goBack = this.goBack.bind(this);\n\t\tthis.state = {\n\t\t\tdata: [],\n\t\t\tlimit: 10,\n\t\t\tused_space: 0,\n\t\t\tname: \"\",\n\t\t\tpath: decodeURI(document.location.pathname.replace('/list/','')),\n\t\t\tsortby: \"created\",\n\t\t\ttotal_space: 0,\n\t\t\tfoldertitle: \"\",\n\t\t\tfile: null,\n\t\t\ttotal: 0,\n\t\t\tloading: true\n\t\t}\n\t}\n\n\tgetList(){\n\t\t/*\n\t\t\tметод получения списка файлов и папок из Яндекс диска\n\t\t\tна вход требуется:\n\t\t\t\tpath - путь (this.state.path)\n\t\t\t\tsortby - признак сортировки (this.state.sortby)\n\t\t\t\tlimit - кол-во записей (default 10) (this.state.limit)\n\t\t\tполученные данные записываются в this.state.data\n\t\t*/\n\t\tthis.setState({ loading: true }, () => {\n\t\t\tapishka( 'GET', null, { path: this.state.path || '/', sort: this.state.sortby, limit: this.state.limit }, `https://cloud-api.yandex.net/v1/disk/resources`,\n\t\t\t\t(data) => {\n\t\t\t\t\tthis.setState({ data: data._embedded.items, total: data._embedded.total, name: data.name, loading: false })\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.log('err: ', err);\n\t\t\t\t}\n\t\t\t);\n\t\t})\n\n\t}\n\n\tshowMore(){\n\t\t/*\n\t\t\tметод \"показать больще\" - прибавляет к this.state.limit 10 и запрашивает список по новой\n\t\t\tобновляет this.state.limit\n\t\t*/\n\t\tthis.setState({ limit: this.state.limit + 10 }, () => {\n\t\t\tthis.getList();\n\t\t})\n\t}\n\n\tdelFolder(path){\n\t\t/*\n\t\t\tметод удаление папки - заправшивает разрешение и при удачном исходе удаляет папку с диска\n\t\t\tна вход требуется:\n\t\t\t\tpath (this.state.path) - путь папки которую надо удалить\n\t\t\tпосле выполнения запрашивает список\n\t\t*/\n\n\t\tif (window.confirm('Подтвердите удаление!')){\n\n\t\t\tpath = path.replace('disk: ','');\n\n\t\t\tapishka('DELETE',null,{ path: path },`https://cloud-api.yandex.net/v1/disk/resources`,\n\t\t\t\t(data) => {\n\t\t\t\t\tthis.props.getList();\n\t\t\t\t},(err) => {\n\t\t\t\t\tconsole.log('err: ', err);\n\t\t\t\t}\n\t\t\t)\n\n\t\t}\n\t}\n\n\tsortBy(e) {\n\t\t/*\n\t\t\tСмена признака сортировки\n\t\t*/\n\t\tthis.setState( { sortby:  e.target.value }, () => {\n\t\t\tthis.getList();\n\t\t})\n\t}\n\n\tgoBack() {\n\t\t/*\n\t\t\tМетод возвращает на католог уровнем выше\n\t\t*/\n\t\tlet path = this.state.path;\n\t\tpath = '/list/' + path.replace( this.state.name ,'' );\n\t\tdocument.location.href = path.replace('//','/');\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getList();\n\t\tapishka('GET',null,{ },`https://cloud-api.yandex.net/v1/disk/`,\n\t\t\t(data) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttotal_space: data.total_space,\n\t\t\t\t\tused_space: data.used_space\n\t\t\t\t});\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log('err: ', err);\n\t\t\t}\n\t\t)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className = \"container-fluid\">\n\t\t\t\t<PreLoader on = { this.state.loading } />\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<DiskHeader\n\t\t\t\t\t\t\ttotal_space = { this.state.total_space }\n\t\t\t\t\t\t\tused_space = { this.state.used_space } />\n\t\t\t\t\t\t<div className = \"row\">\n\t\t\t\t\t\t\t<SortBy\n\t\t\t\t\t\t\t\tpath = { this.state.path }\n\t\t\t\t\t\t\t\tsortBy = { this.sortBy } />\n\t\t\t\t\t\t\t<NewFolder\n\t\t\t\t\t\t\t\tpath = { this.state.path }\n\t\t\t\t\t\t\t\tgetList = { this.getList } />\n\t\t\t\t\t\t\t<UploadFile\n\t\t\t\t\t\t\t\tuploadFile = { this.uploadFile }\n\t\t\t\t\t\t\t\tgetList = { this.getList }\n\t\t\t\t\t\t\t\tpath = { this.state.path } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ ( this.state.path !== '' ) ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt = \"back\"\n\t\t\t\t\t\t\tonClick = { this.goBack }\n\t\t\t\t\t\t\tstyle = { {cursor: \"pointer\", marginLeft: 5 }}\n\t\t\t\t\t\t\twidth = \"80\" height = \"80\"\n\t\t\t\t\t\t\tsrc = \"/pic/back.png\"\t/>\n\t\t\t\t\t\t) : null\n\t\t\t\t\t}\n\t\t\t\t\t<p>Всего { this.state.total }</p>\n\t\t\t\t\t{ this.state.data.map((item) => {\n\t\t\t\t\t\treturn (<div style = { { margin: 15 } }\n\t\t\t\t\t\t\tkey = { item.resource_id }>\n\t\t\t\t\t\t\t{ (item.type === \"dir\") ?\n\t\t\t\t\t\t\t\t<Folder\n\t\t\t\t\t\t\t\t\tpath = { this.state.path }\n\t\t\t\t\t\t\t\t\titem = { item }\n\t\t\t\t\t\t\t\t\tdelFolder = { this.delFolder }\n\t\t\t\t\t\t\t\t\tgetList = { this.getList }\t/>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<File item = { item } />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>)\n\t\t\t\t\t}) }\n\t\t\t\t{ (this.state.total>this.state.data.length) ?\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick = { this.showMore.bind(this) }\n\t\t\t\t\t\tclassName = \"btn btn-outline-primary\" >Показать ещё</button>\n\t\t\t\t\t:\n\t\t\t\t\tnull\n\t\t\t\t}\n\n\t\t\t</div>\n\t</div>)\n\n\t}\n}\n\nexport default List;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n import { BrowserRouter, Route } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport Auth from './components/Auth';\nimport List from './components/List';\n//import * as serviceWorker from './serviceWorker';\n\nconst supportsHistory = 'pushState' in window.history\nReactDOM.render(\n\n\t\t<BrowserRouter forceRefresh={!supportsHistory}>\n\t\t\t<div>\n\t\t\t\t<Route path=\"/\" component={App} />\n\t\t\t\t<Route path=\"/auth\" component={Auth} />\n\t\t\t\t<Route path=\"/list/\" component={List} />\n\t\t\t</div>\n\t\t</BrowserRouter  >\n\t,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}